(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5327a28c"],{"73cf":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register flex items-center justify-center"},[r("form",{staticClass:"mx-auto w-1/4 p-5 bg-white rounded-lg shadow-lg",attrs:{action:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[r("Input",{staticClass:"my-2",attrs:{prefix:"ios-contact",size:"large",placeholder:"请输入昵称"},model:{value:e.nick_name,callback:function(t){e.nick_name=t},expression:"nick_name"}}),r("Input",{staticClass:"my-2",attrs:{prefix:"ios-mail",size:"large",placeholder:"请输入邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("Input",{staticClass:"my-2",attrs:{prefix:"ios-lock",size:"large",type:"password",password:"",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.errorCount>0?r("Alert",{attrs:{type:"error",closable:""},on:{"on-close":e.clearError}},e._l(e.errors,(function(t,s){return r("p",{key:s},[e._v(e._s(t))])})),0):e._e(),r("Button",{staticClass:"my-2",attrs:{type:"primary"},on:{click:e.register}},[e._v("登录")])],1)])},a=[],n=(r("b64b"),{name:"Register",data:function(){return{nick_name:"",email:"",password:"",errors:{}}},computed:{errorCount:function(){return Object.keys(this.errors).length}},beforeRouteEnter:function(e,t,r){r((function(e){e.$store.state.user&&e.$router.push("/")}))},methods:{register:function(){var e=this;this.$http({method:"post",url:"/users",data:{nick_name:this.nick_name,email:this.email,password:this.password}}).then((function(t){e.$router.push("/login")})).catch((function(t){var r=t.response.status;switch(r){case 403:e.$Message.error({background:!0,content:t.response.data.msg});break;case 422:e.errors=t.response.data.data.errors;break;default:e.$Message.error({background:!0,content:"服务器发生错误，请联系管理员"})}}))},clearError:function(){this.errors={}}}}),o=n,i=r("2877"),c=Object(i["a"])(o,s,a,!1,null,"7ea4b17f",null);t["default"]=c.exports},b64b:function(e,t,r){var s=r("23e7"),a=r("7b0b"),n=r("df75"),o=r("d039"),i=o((function(){n(1)}));s({target:"Object",stat:!0,forced:i},{keys:function(e){return n(a(e))}})}}]);
//# sourceMappingURL=chunk-5327a28c.e5a1ee13.js.map