(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-241bab6c"],{a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login flex items-center"},[r("form",{staticClass:"mx-auto w-1/4 p-5 bg-white rounded-lg shadow-lg",attrs:{action:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[r("Input",{staticClass:"my-2",attrs:{prefix:"ios-mail",size:"large",placeholder:"请输入邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("Input",{staticClass:"my-2",attrs:{prefix:"ios-lock",size:"large",type:"password",password:"",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.errorCount>0?r("Alert",{attrs:{type:"error",closable:""},on:{"on-close":e.clearError}},e._l(e.errors,(function(t,s){return r("p",{key:s},[e._v(e._s(t))])})),0):e._e(),r("Button",{staticClass:"my-2",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)])},a=[],o=(r("b64b"),{name:"Login",data:function(){return{email:"",password:"",errors:{}}},computed:{errorCount:function(){return Object.keys(this.errors).length}},beforeRouteEnter:function(e,t,r){r((function(e){e.$store.state.user&&e.$router.push("/")}))},methods:{login:function(){var e=this;this.$http({method:"POST",url:"/authorizations",data:{email:this.email,password:this.password}}).then((function(t){e.$store.dispatch("login",t.data.data),e.$router.push("/")})).catch((function(t){var r=t.response.status;switch(r){case 401:e.$Message.error({background:!0,content:t.response.data.msg});break;case 422:e.errors=t.response.data.data.errors;break;default:e.$Message.error({background:!0,content:"服务器发生错误，请联系管理员"})}}))}}}),n=o,i=r("2877"),c=Object(i["a"])(n,s,a,!1,null,"b1f40154",null);t["default"]=c.exports},b64b:function(e,t,r){var s=r("23e7"),a=r("7b0b"),o=r("df75"),n=r("d039"),i=n((function(){o(1)}));s({target:"Object",stat:!0,forced:i},{keys:function(e){return o(a(e))}})}}]);
//# sourceMappingURL=chunk-241bab6c.136f55cb.js.map