(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69450be0"],{a381:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-form"},[r("form",{staticClass:"mx-auto w-3/4 p-5 bg-white rounded-lg shadow-lg",attrs:{action:""}},[t.errorCount>0?r("Alert",{attrs:{type:"error",closable:""},on:{"on-close":t.clearError}},t._l(t.errors,(function(e,o){return r("p",{key:o},[t._v(t._s(e))])})),0):t._e(),r("Input",{staticClass:"my-2",attrs:{size:"large",placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("mavon-editor",{attrs:{toolbars:t.toolbars},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),r("Button",{staticClass:"my-2",attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)])},a=[],s=(r("b64b"),r("bc3a")),n=r.n(s),i=r("4328"),l=r.n(i),c={authRequest:function(t){var e=JSON.parse(localStorage.getItem("user")),r=n.a.create({baseURL:"http://api.blog.kayuho.com",transformRequest:[function(t){return t=l.a.stringify(t),t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}});return t.headers={Authorization:"Bearer "+e.token},r.request(t)}},u={name:"ArticleForm",data:function(){return{title:"",body:"",errors:{},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},computed:{errorCount:function(){return Object.keys(this.errors).length}},methods:{submit:function(){var t=this;c.authRequest({method:"post",url:"/articles",data:{title:this.title,body:this.body}}).then((function(e){var r=e.data.data.id;t.$router.push("/articles/"+r)})).catch((function(e){var r=e.response.status;switch(r){case 401:t.$store.dispatch("logout"),t.$router.push("/login");break;case 422:t.errors=e.response.data.data.errors;break;default:t.$Message.error({background:!0,content:"服务器发生错误，请联系管理员"})}console.log(e)}))}}},d=u,b=r("2877"),h=Object(b["a"])(d,o,a,!1,null,"2c0b5d88",null);e["default"]=h.exports},b64b:function(t,e,r){var o=r("23e7"),a=r("7b0b"),s=r("df75"),n=r("d039"),i=n((function(){s(1)}));o({target:"Object",stat:!0,forced:i},{keys:function(t){return s(a(t))}})}}]);
//# sourceMappingURL=chunk-69450be0.63615cf0.js.map